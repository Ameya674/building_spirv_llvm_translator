
# Building the LLVM IR to SPIRV Bidirectional Translator

The LLVM to SPIRV translator allows for the conversion between LLVM IR (Intermediate Representation) and SPIR-V, which is a binary intermediate language for representing graphical shaders and compute kernels. This tool is developed by the Khronos Group. This tutorial will guide you through the process of building this translator from source.

## SPIR V

SPIR-V is a binary intermediate language designed for representing graphical shaders and compute kernels. It serves as a portable, low-level representation of code that can be executed on various GPU architectures. SPIR-V is used in graphics APIs like Vulkan and OpenCL to optimize and execute complex graphics and compute tasks efficiently. 


## LLVM 

LLVM (Low Level Virtual Machine) is a collection of modular and reusable compiler and toolchain technologies. It provides a framework for building compilers and other code-related tools. LLVM is designed to optimize code at compile-time, link-time, run-time, and idle-time. The intermediate representation generated by the compiler is called LLVM IR.

## 1) Installing LLVM toolchain

Run the following commands in the terminal

```bash
wget https://apt.llvm.org/llvm.sh                                                                       #Convenience script that sets up the repositories
chmod +x llvm.sh                                                                                        #Makes the script executable
sudo ./llvm.sh 19                                                                                       #Set up repositories for clang 19
sudo apt update && sudo apt install -y libclang-19-dev clang-tools-19 libomp-19-dev llvm-19-dev lld-19  #Installing clang
```

## 2) Installing and building the translator

```bash
git clone https://github.com/KhronosGroup/SPIRV-LLVM-Translator.git    #cloning the translator repo
mkdir SPIRV-LLVM-Translator/build && cd SPIRV-LLVM-Translator/build    #making and entering into the build dir
cmake ..                                                               #configuring the build system
make llvm-spirv -j`nproc`                                              #making in parallel 
```

Expected Output:

```bash
[ 90%] Building CXX object lib/SPIRV/CMakeFiles/LLVMSPIRVLib.dir/libSPIRV/SPIRVValue.cpp.o
[ 93%] Building CXX object lib/SPIRV/CMakeFiles/LLVMSPIRVLib.dir/libSPIRV/SPIRVError.cpp.o
[ 95%] Linking CXX static library libLLVMSPIRVLib.a
[ 95%] Built target LLVMSPIRVLib
[ 97%] Building CXX object tools/llvm-spirv/CMakeFiles/llvm-spirv.dir/llvm-spirv.cpp.o
[100%] Linking CXX executable llvm-spirv
[100%] Built target llvm-spirv
```

If your output looks something like this... then you have successfully built the translator and can use it!!
